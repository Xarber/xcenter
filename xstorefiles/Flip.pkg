{"type":"Game","title":"Flip","desc":"Flip is a memory game. Will you find all the couples in time?","author":"Codrin Pavel","src":"/assets/media/apps/external/flip.png","id":"FlipSMP6A1B39I","batch":"","content":"<!--\nREADME!\n\nGAME INSRUCTIONS:\n\np    - pause\nESC  - abandon game\n\nClick the big P to choose one of three levels:\n- Casual\n- Medium\n- Hard\n\nThe game will save your stats locally, via localStorage.\nClick the F to see your stats.\n\nClick I for these intructions.\n\nFlip is a timed card memory game. When starting a level, there's a red bar on top of the screen that shows how much time you have left.\nClick the green cards to see what symbol they uncover and try to find the matching symbol underneath the other cards.\nUncover two matching symbols in a row to eliminate them from the game.\nEliminate all cards as fast as you can to win the game. Have fun FLIPing!\n-->\n\n\n<div id=\"g\"></div>\n\t\n<div class=\"logo\">\n  <p class=\"info\">Click the P to get started.</p>\n  <div class=\"card left\">\n    <div class=\"flipper\">\n      <div class=\"f c1\">F</div>\n      <div class=\"b contentbox\" id=\"stats\">\n        <div class=\"padded\">\n          <h2>Figures</h2>\n          Looks like you haven't FLIPped yet.\n          <a href=\"javascript:;\" class=\"playnow\">Play now</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"card active twist\">\n    <div class=\"flipper\">\n      <div class=\"b f\">\n        <div class=\"c2\">L</div>\n      </div>\n    </div>\n  </div>\n  <div class=\"card left\">\n    <div class=\"flipper\">\n      <div class=\"f c3\">I</div>\n      <div class=\"b contentbox instructions\">\n        <div class=\"padded\">\n          <h2>Instructions</h2>\n          <p>Press [p] to pause, or [ESC] to abandon game.</p>\n          <p>Flip is a timed card memory game. Click the green cards to see what symbol they uncover and try to find the matching symbol underneath the other cards.</p>\n          <p>Uncover two matching symbols at once to eliminate them from the game.</p>\n          <p>Eliminate all cards as fast as you can to win the game. Have fun FLIPing!</p>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"card\">\n    <div class=\"flipper\">\n      <div class=\"f c4\">P</div>\n      <div class=\"b contentbox levels\">\n        <a href=\"javascript:;\" data-level=\"8\" class=\"play\">Casual</a>\n        <a href=\"javascript:;\" data-level=\"18\" class=\"play\">Medium</a>\n        <a href=\"javascript:;\" data-level=\"32\" class=\"play\">Hard</a>\n      </div>\n    </div>\n  </div>\n\n  <p class=\"info\">Flip should work best in Google Chrome, decent in Firefox, IE10 and Opera;</p>\n</div><script type=\"text/javascript\">\n$(function(){\n  \n  function set(key, value) { localStorage.setItem(key, value); }\n  function get(key)        { return localStorage.getItem(key); }\n  function increase(el)    { set(el, parseInt( get(el) ) + 1); }\n  function decrease(el)    { set(el, parseInt( get(el) ) - 1); }\n\n  var toTime = function(nr){\n    if(nr == '-:-') return nr;\n    else { var n = ' '+nr/1000+' '; return n.substr(0, n.length-1)+'s'; }\n  };\n\n  function updateStats(){\n    $('#stats').html('<div class=\"padded\"><h2>Figures: <span>'+\n      '<b>'+get('flip_won')+'</b><i>Won</i>'+\n      '<b>'+get('flip_lost')+'</b><i>Lost</i>'+\n      '<b>'+get('flip_abandoned')+'</b><i>Abandoned</i></span></h2>'+\n      '<ul><li><b>Best Casual:</b> <span>'+toTime( get('flip_casual') )+'</span></li>'+\n      '<li><b>Best Medium:</b> <span>'+toTime( get('flip_medium') )+'</span></li>'+\n      '<li><b>Best Hard:</b> <span>'+toTime( get('flip_hard') )+'</span></li></ul>'+\n      '<ul><li><b>Total Flips:</b> <span>'+parseInt( ( parseInt(get('flip_matched')) + parseInt(get('flip_wrong')) ) * 2)+'</span></li>'+\n      '<li><b>Matched Flips:</b> <span>'+get('flip_matched')+'</span></li>'+\n      '<li><b>Wrong Flips:</b> <span>'+get('flip_wrong')+'</span></li></ul></div>');\n  };\n\n  function shuffle(array) {\n    var currentIndex = array.length, temporaryValue, randomIndex;\n    while (0 !== currentIndex) {\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex -= 1;\n        temporaryValue = array[currentIndex];\n        array[currentIndex] = array[randomIndex];\n        array[randomIndex] = temporaryValue;\n    }\n    return array;\n  };\n\n  function startScreen(text){\n    $('#g').removeAttr('class').empty();\n    $('.logo').fadeIn(250);\n\n    $('.c1').text(text.substring(0, 1));\n    $('.c2').text(text.substring(1, 2));\n    $('.c3').text(text.substring(2, 3));\n    $('.c4').text(text.substring(3, 4));\n\n    // If won game\n    if(text == 'nice'){\n      increase('flip_won');\n      decrease('flip_abandoned');\n    }\n\n    // If lost game\n    else if(text == 'fail'){\n      increase('flip_lost');\n      decrease('flip_abandoned');\n    }\n\n    // Update stats\n    updateStats();\n  };\n\n  /* LOAD GAME ACTIONS */\n\n  // Init localStorage\n  if( !get('flip_won') && !get('flip_lost') && !get('flip_abandoned') ){\n    //Overall Game stats\n    set('flip_won', 0);\n    set('flip_lost', 0);\n    set('flip_abandoned', 0);\n    //Best times\n    set('flip_casual', '-:-');\n    set('flip_medium', '-:-');\n    set('flip_hard', '-:-');\n    //Cards stats\n    set('flip_matched', 0);\n    set('flip_wrong', 0);\n  }\n\n  // Fill stats\n  if( get('flip_won') > 0 || get('flip_lost') > 0 || get('flip_abandoned') > 0) {updateStats();}\n\n  // Toggle start screen cards\n  $('.logo .card:not(\".twist\")').on('click', function(e){\n    $(this).toggleClass('active').siblings().not('.twist').removeClass('active');\n    if( $(e.target).is('.playnow') ) { $('.logo .card').last().addClass('active'); }\n  });\n\n  // Start game\n  $('.play').on('click', function(){\n    increase('flip_abandoned');\n\t\t$('.info').fadeOut();\n\n    var difficulty = '',\n        timer      = 1000,\n        level      = $(this).data('level');\n\n    // Set game timer and difficulty   \n    if     (level ==  8) { difficulty = 'casual'; timer *= level * 4; }\n    else if(level == 18) { difficulty = 'medium'; timer *= level * 5; }\n    else if(level == 32) { difficulty = 'hard';   timer *= level * 6; }\t    \n\n    $('#g').addClass(difficulty);\n\n    $('.logo').fadeOut(250, function(){\n      var startGame  = $.now(),\n          obj = [];\n\n      // Create and add shuffled cards to game\n      for(i = 0; i < level; i++) { obj.push(i); }\n\n      var shu      = shuffle( $.merge(obj, obj) ),\n          cardSize = 100/Math.sqrt(shu.length);\n\n      for(i = 0; i < shu.length; i++){\n        var code = shu[i];\n        if(code < 10) code = \"0\" + code;\n        if(code == 30) code = 10;\n        if(code == 31) code = 21;\n        $('<div class=\"card\" style=\"width:'+cardSize+'%;height:'+cardSize+'%;\">'+\n            '<div class=\"flipper\"><div class=\"f\"></div><div class=\"b\" data-f=\"&#xf0'+code+';\"></div></div>'+\n          '</div>').appendTo('#g');\n      }\n\n      // Set card actions\n      $('#g .card').on({\n        'mousedown' : function(){\n          if($('#g').attr('data-paused') == 1) {return;}\n          var data = $(this).addClass('active').find('.b').attr('data-f');\n\n          if( $('#g').find('.card.active').length > 1){\n            setTimeout(function(){\n              var thisCard = $('#g .active .b[data-f='+data+']');\n\n              if( thisCard.length > 1 ) {\n                thisCard.parents('.card').toggleClass('active card found').empty(); //yey\n                increase('flip_matched');\n\n                // Win game\n                if( !$('#g .card').length ){\n                  var time = $.now() - startGame;\n                  if( get('flip_'+difficulty) == '-:-' || get('flip_'+difficulty) > time ){\n                    set('flip_'+difficulty, time); // increase best score\n                  }\n\n                  startScreen('nice');\n                }\n              }\n              else {\n                $('#g .card.active').removeClass('active'); // fail\n                increase('flip_wrong');\n              }\n            }, 401);\n          }\n        }\n      });\n\n      // Add timer bar\n      $('<i class=\"timer\"></i>')\n        .prependTo('#g')\n        .css({\n          'animation' : 'timer '+timer+'ms linear'\n        })\n        .one('webkitAnimationEnd oanimationend msAnimationEnd animationend', function(e) {\n          startScreen('fail'); // fail game\n        });\n\n      // Set keyboard (p)ause and [esc] actions\n      $(window).off().on('keyup', function(e){\n        // Pause game. (p)\n        if(e.keyCode == 80){\n          if( $('#g').attr('data-paused') == 1 ) { //was paused, now resume\n            $('#g').attr('data-paused', '0');\n            $('.timer').css('animation-play-state', 'running');\n            $('.pause').remove();\n          }\n          else {\n            $('#g').attr('data-paused', '1');\n            $('.timer').css('animation-play-state', 'paused');\n            $('<div class=\"pause\"></div>').appendTo('body');\n          }\n        }\n        // Abandon game. (ESC)\n        if(e.keyCode == 27){\n          startScreen('flip');\n          // If game was paused\n          if( $('#g').attr('data-paused') == 1 ){\n            $('#g').attr('data-paused', '0');\n            $('.pause').remove();\n          }\n          $(window).off();\n        }\n      });\n    });\n  });\n  \n});\n</script><style>body, html{margin:0;font:normal 0/0 Arial, Helvetica, sans-serif;background:#333;overflow:hidden;color:#fff;\n\t-webkit-touch-callout: none;\n\t-webkit-user-select: none;\n\t-khtml-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n}\nbody, html, .flipper, .f, .b, #g {width:100%;height:100%;}\n\n/* font-face */\n@font-face{font-family: \"GeneralFoundicons\";font-weight:normal;font-style:normal;\n\tsrc: url(\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/60583/general_foundicons.eot\");\n\tsrc: url(\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/60583/general_foundicons.eot?#iefix\") format(\"embedded-opentype\"),\n\t     url(\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/60583/general_foundicons.woff\") format(\"woff\"),\n\t     url(\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/60583/general_foundicons.ttf\") format(\"truetype\"),\n\t     url(\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/60583/general_foundicons.svg#GeneralFoundicons\") format(\"svg\");\n}\na{text-decoration:none;color:#fff;display:block;font:bold 18px/75px 'Open Sans';text-transform:uppercase;text-align:center;padding:0;margin:0 1px;}\na:hover{color:#fff;background:rgba(255, 255, 255, .1)}\n\n/* FRONT SCREEN */\n.logo{width:450px;height:450px;position:absolute;top:50%;left:50%;margin:-225px 0 0 -225px}\n.logo .card{width:50%;height:50%;cursor:default;position:relative}\n.logo .card.left.active{z-index:2}\n.logo .card.left.active + .card{opacity:0}\n.logo .card.left.active .b{margin-left:-100%}\n.logo .f{font:normal 130px/225px 'Open Sans';text-align:center;text-transform:uppercase;}\n.logo .c2{transform:scale(-1, 1);-webkit-transform:scale(-1, 1);-moz-transform:scale(-1, 1);-ms-transform:scale(-1, 1)}\n\n.logo .contentbox{width:200%;font:normal 12px/16px 'Open Sans';text-align:left}\n.logo .contentbox.levels{width:100%}\n.logo .contentbox .padded{padding:0 15px;}\n.logo .contentbox h2{font-size:24px;padding:0;margin:28px 0;text-transform:uppercase}\n.logo .contentbox p{line-height:14px;margin:14px 0}\n\n#stats h2 i{margin-right:10px;vertical-align:top;font:italic normal 9px/8px 'Open Sans';color:rgba(255,255,255, .4)}\n#stats ul{width:50%;display:inline-block;margin:0;padding:0;list-style-type:none;vertical-align:top;line-height:22px}\n#stats li{display:block;margin:0;padding:0;}\n#stats li b{display:inline-block;font-size:12px;width:95px}\n#stats a {position:absolute;bottom:0;width:100%;margin-left:-15px;}\n\n.logo .info{font-size:11px;line-height:16px;text-align:center;color: rgba(255,255,255, .3);padding:0 25px;}\n\n/*GAME SCREEN*/\n#g{margin-top:4px}\n#g .timer{width:0%;height:5px;position:absolute;top:0;background:#C0392B;z-index:1}\n@-webkit-keyframes timer {100% { width:100%; }}\n@-moz-keyframes timer {100% { width:100%; }}\n@-o-keyframes timer {100% { width:100%; }}\n@keyframes timer {100% { width:100%; }}\n.pause{position:absolute;width:100%;height:100%;left:0;top:0;z-index:100;background:rgba(51, 51, 51, 0.78)}\n.pause::before{content:'PAUSED';width:100%;position:absolute;margin-top:-100px;top:50%;background:#C0392B;color:#fff;font:bold 80px/200px 'Open Sans';\ndisplay:block;text-align:center;}\n/* card styles */\n#g .found{display:inline-block}\n.card{display:inline-block;-webkit-perspective:1000;-moz-perspective:1000;}\n.card:not(.active):hover{opacity:.8}\n.card .b::before{content:attr(data-f);display:block;font:normal 100px/100px \"GeneralFoundicons\";\nposition:absolute;top:50%;margin-top:-50px;width:100%;text-align:center}\n\n/* flip cards */\n.flipper {position:relative;-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d}\n.f, .b {position:absolute;top:0;left:0;box-shadow:inset 0 0 0 1px #333;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden}\n.f {background:#16A085;z-index:1}\n.b {background:#C0392B;opacity:0}\n.card.active .b{z-index:2;opacity:1}\n\n/*Grouped for easy prefixing*/\n.card, .flipper, .logo .b{transition:400ms;-ms-transition:400ms;-webkit-transition:400ms;-moz-transition:400ms;-o-transition:400ms}\n.card.active .flipper, .b {transform:rotateY(180deg);-webkit-transform:rotateY(180deg);-moz-transform:rotateY(180deg);-ms-transform:rotateY(180deg);-o-transform:rotateY(180deg)}\n.logo .f, .card .b::before, .pause::before{-webkit-text-stroke: 1px #fff} /*webkit only*/\n\n/*Responsive Stuff*/\n@media all and (max-width: 1680px) and (min-width: 640px){\n\t.card .b::before{font-size:90px}\n\t#g.medium .card .b::before{font-size:70px}\n\t#g.hard .card .b::before{font-size:50px}\n}\n@media all and (max-width: 640px) and (min-width: 470px){\n\t.card .b::before{font-size:90px}\n\t#g.medium .card .b::before{font-size:60px}\n\t#g.hard .card .b::before{font-size:50px}\n}\n\n@media all and (max-width: 470px) and (min-width: 0px){\n\t.card .b::before{font-size:60px}\n\t#g.medium .card .b::before{font-size:35px;-webkit-text-stroke:0;}\n\t#g.hard .card .b::before{font-size:32px;-webkit-text-stroke:0;}\n}\n\n@media all and (max-width: 640px) and (min-width: 0px){\n\ta{line-height:50px;font-size:13px}\n\t.logo{width:300px;height:300px;margin:-150px 0 0 -150px}\n\t.logo .f{font:normal 80px/150px 'Open Sans'}\n\t.logo .contentbox h2{font-size:16px;margin:24px 0;}\n\t.logo .instructions h2{display:none}\n\t.logo .instructions.contentbox p:nth-child(3){display:none}\n\t#stats li b{width:auto}\n}</style>"}