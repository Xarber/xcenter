{"type":"Game","title":"Tower Blocks","desc":"How high will your tower be?","author":"Steve Gardner","src":"data:image/png;base64,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","id":"Tower BlocksYZ31V43W2D","batch":"","content":"<meta name=\"viewport\" content=\"width=device-width,user-scalable=no\">\n\n<div id=\"container\">\n\t<div id=\"game\"></div>\n\t<div id=\"score\">0</div>\n\t<div id=\"instructions\">Click (or press the spacebar) to place the block</div>\n\t<div class=\"game-over\">\n\t\t<h2>Game Over</h2>\n\t\t<p>You did great, you're the best.</p>\n\t\t<p>Click or spacebar to start again</p>\n\t</div>\n\t<div class=\"game-ready\">\n\t\t<div id=\"start-button\">Start</div>\n\t\t<div></div>\n\t</div>\n</div>\n<script type=\"text/javascript\">\nconsole.clear();\n\ninterface BlockReturn\n{\n\tplaced?:any;\n\tchopped?:any;\n\tplane: 'x' | 'y' | 'z';\n\tdirection: number;\n\tbonus?: boolean;\n}\n\nclass Stage\n{\n\tprivate container: any;\n\tprivate camera: any;\n\tprivate scene: any;\n\tprivate renderer: any;\n\tprivate light: any;\n\tprivate softLight: any;\n\tprivate group: any;\n\t\n\tconstructor()\n\t{\n\t\t// container\n\t\t\n\t\tthis.container = document.getElementById('game');\n\t\t\n\t\t// renderer\n\t\t\n\t\tthis.renderer = new THREE.WebGLRenderer({\n\t\t\tantialias: true,\n\t\t\talpha: false\n\t\t});\n\t\t\n\t\tthis.renderer.setSize(window.innerWidth, window.innerHeight);\n\t\tthis.renderer.setClearColor('#D0CBC7', 1);\n\t\tthis.container.appendChild( this.renderer.domElement );\n\t\t\n\t\t// scene\n\n\t\tthis.scene = new THREE.Scene();\n\n\t\t// camera\n\n\t\tlet aspect = window.innerWidth / window.innerHeight;\n\t\tlet d = 20;\n\t\tthis.camera = new THREE.OrthographicCamera( - d * aspect, d * aspect, d, - d, -100, 1000);\n\t\tthis.camera.position.x = 2;\n\t\tthis.camera.position.y = 2; \n\t\tthis.camera.position.z = 2; \n\t\tthis.camera.lookAt(new THREE.Vector3(0, 0, 0));\n\t\t\n\t\t//light\n\n\t\tthis.light = new THREE.DirectionalLight(0xffffff, 0.5);\n\t\tthis.light.position.set(0, 499, 0);\n\t\tthis.scene.add(this.light);\n\n\t\tthis.softLight = new THREE.AmbientLight( 0xffffff, 0.4 );\n\t\tthis.scene.add(this.softLight)\n\t\t\n\t\twindow.addEventListener('resize', () => this.onResize());\n\t\tthis.onResize();\n\t}\n\t\n\tsetCamera(y:number, speed:number = 0.3)\n\t{\n\t\tTweenLite.to(this.camera.position, speed, {y: y + 4, ease: Power1.easeInOut});\n\t\tTweenLite.to(this.camera.lookAt, speed, {y: y, ease: Power1.easeInOut});\n\t}\n\t\n\tonResize()\n\t{\n\t\tlet viewSize = 30;\n\t\tthis.renderer.setSize(window.innerWidth, window.innerHeight);\n\t\tthis.camera.left = window.innerWidth / - viewSize;\n\t\tthis.camera.right = window.innerWidth / viewSize;\n\t\tthis.camera.top = window.innerHeight / viewSize;\n\t\tthis.camera.bottom = window.innerHeight / - viewSize;\n\t\tthis.camera.updateProjectionMatrix();\n\t}\n\t\n\trender = function()\n\t{\n\t\tthis.renderer.render(this.scene, this.camera);\n\t}\n\n\tadd = function(elem)\n\t{\n\t\tthis.scene.add(elem);\n\t}\n\n\tremove = function(elem)\n\t{\n\t\tthis.scene.remove(elem);\n\t}\n}\n\nclass Block\n{\n\tconst STATES = {ACTIVE: 'active', STOPPED: 'stopped', MISSED: 'missed'};\n\tconst MOVE_AMOUNT = 12;\n\n\tdimension = { width: 0, height: 0, depth: 0}\n\tposition = {x: 0, y: 0, z: 0};\n\t\n\tmesh:any;\n\tstate:string;\n\tindex:number;\n\tspeed:number;\n\tdirection:number;\n\tcolorOffset:number;\n\tcolor:number;\n\tmaterial:any;\n\n\tworkingPlane:string;\n\tworkingDimension:string;\n\n\ttargetBlock:Block;\n\t\n\tconstructor(block:Block)\n\t{\n\t\t// set size and position\n\t\t\n\t\tthis.targetBlock = block;\n\t\t\n\t\tthis.index = (this.targetBlock ? this.targetBlock.index : 0) + 1;\n\t\tthis.workingPlane = this.index % 2 ? 'x' : 'z';\n\t\tthis.workingDimension = this.index % 2 ? 'width' : 'depth';\n\t\t\n\t\t// set the dimensions from the target block, or defaults.\n\t\t\n\t\tthis.dimension.width = this.targetBlock ? this.targetBlock.dimension.width : 10;\n\t\tthis.dimension.height = this.targetBlock ? this.targetBlock.dimension.height : 2;\n\t\tthis.dimension.depth = this.targetBlock ? this.targetBlock.dimension.depth : 10;\n\t\t\n\t\tthis.position.x = this.targetBlock ? this.targetBlock.position.x : 0;\n\t\tthis.position.y = this.dimension.height * this.index;\n\t\tthis.position.z = this.targetBlock ? this.targetBlock.position.z : 0;\n\t\t\n\t\tthis.colorOffset = this.targetBlock ? this.targetBlock.colorOffset : Math.round(Math.random() * 100);\n\t\t\n\t\t// set color\n\t\tif(!this.targetBlock) \n\t\t{\n\t\t\tthis.color = 0x333344;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet offset = this.index + this.colorOffset;\n\t\t\tvar r = Math.sin(0.3 * offset) * 55 + 200;\n\t\t\tvar g = Math.sin(0.3 * offset + 2) * 55 + 200;\n\t\t\tvar b = Math.sin(0.3 * offset + 4) * 55 + 200;\n\t\t\tthis.color = new THREE.Color( r / 255, g / 255, b / 255 );\n\t\t}\n\t\t\n\t\t// state\n\t\t\n\t\tthis.state = this.index > 1 ? this.STATES.ACTIVE : this.STATES.STOPPED;\n\t\t\n\t\t// set direction\n\t\t\n\t\tthis.speed = -0.1 - (this.index * 0.005);\n\t\tif(this.speed < -4) this.speed = -4;\n\t\tthis.direction = this.speed;\n\t\t\n\t\t// create block\n\t\t\n\t\tlet geometry = new THREE.BoxGeometry( this.dimension.width, this.dimension.height, this.dimension.depth);\n\t\tgeometry.applyMatrix( new THREE.Matrix4().makeTranslation(this.dimension.width/2, this.dimension.height/2, this.dimension.depth/2) );\n\t\tthis.material = new THREE.MeshToonMaterial( {color: this.color, shading: THREE.FlatShading} );\n\t\tthis.mesh = new THREE.Mesh( geometry, this.material );\n\t\tthis.mesh.position.set(this.position.x, this.position.y + (this.state == this.STATES.ACTIVE ? 0 : 0), this.position.z);\n\t\t\n\t\tif(this.state == this.STATES.ACTIVE) \n\t\t{\n\t\t\tthis.position[this.workingPlane] = Math.random() > 0.5 ? -this.MOVE_AMOUNT : this.MOVE_AMOUNT;\n\t\t}\n\t} \n\n\treverseDirection()\n\t{\n\t\tthis.direction = this.direction > 0 ? this.speed : Math.abs(this.speed); \t\n\t}\n\n\tplace():BlockReturn\n\t{\n\t\tthis.state = this.STATES.STOPPED;\n\t\t\n\t\tlet overlap = this.targetBlock.dimension[this.workingDimension] - Math.abs(this.position[this.workingPlane] - this.targetBlock.position[this.workingPlane]);\n\t\t\n\t\tlet blocksToReturn:BlockReturn = {\n\t\t\tplane: this.workingPlane,\n\t\t\tdirection: this.direction\n\t\t};\n\t\t\n\t\tif(this.dimension[this.workingDimension] - overlap < 0.3)\n\t\t{\n\t\t\toverlap = this.dimension[this.workingDimension];\n\t\t\tblocksToReturn.bonus = true;\n\t\t\tthis.position.x = this.targetBlock.position.x;\n\t\t\tthis.position.z = this.targetBlock.position.z;\n\t\t\tthis.dimension.width = this.targetBlock.dimension.width;\n\t\t\tthis.dimension.depth = this.targetBlock.dimension.depth;\n\t\t}\n\t\t\n\t\tif(overlap > 0)\n\t\t{\n\t\t\tlet choppedDimensions = { width: this.dimension.width, height: this.dimension.height, depth: this.dimension.depth };\n\t\t\tchoppedDimensions[this.workingDimension] -= overlap;\n\t\t\tthis.dimension[this.workingDimension] = overlap;\n\t\t\t\t\t\n\t\t\tlet placedGeometry = new THREE.BoxGeometry( this.dimension.width, this.dimension.height, this.dimension.depth);\n\t\t\tplacedGeometry.applyMatrix( new THREE.Matrix4().makeTranslation(this.dimension.width/2, this.dimension.height/2, this.dimension.depth/2) );\n\t\t\tlet placedMesh = new THREE.Mesh( placedGeometry, this.material );\n\t\t\t\n\t\t\tlet choppedGeometry = new THREE.BoxGeometry( choppedDimensions.width, choppedDimensions.height, choppedDimensions.depth);\n\t\t\tchoppedGeometry.applyMatrix( new THREE.Matrix4().makeTranslation(choppedDimensions.width/2, choppedDimensions.height/2, choppedDimensions.depth/2) );\n\t\t\tlet choppedMesh = new THREE.Mesh( choppedGeometry, this.material );\n\t\t\t\n\t\t\tlet choppedPosition = {\n\t\t\t\tx: this.position.x,\n\t\t\t\ty: this.position.y,\n\t\t\t\tz: this.position.z\n\t\t\t}\n\t\t\t\n\t\t\tif(this.position[this.workingPlane] < this.targetBlock.position[this.workingPlane])\n\t\t\t{\n\t\t\t\tthis.position[this.workingPlane] = this.targetBlock.position[this.workingPlane]\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tchoppedPosition[this.workingPlane] += overlap;\n\t\t\t}\n\t\t\t\n\t\t\tplacedMesh.position.set(this.position.x, this.position.y, this.position.z);\n\t\t\tchoppedMesh.position.set(choppedPosition.x, choppedPosition.y, choppedPosition.z);\n\t\t\t\n\t\t\tblocksToReturn.placed = placedMesh;\n\t\t\tif(!blocksToReturn.bonus) blocksToReturn.chopped = choppedMesh;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.state = this.STATES.MISSED;\n\t\t}\n\t\t\n\t\tthis.dimension[this.workingDimension] = overlap;\n\n\t\treturn blocksToReturn;\n\t}\n\t\n\ttick()\n\t{\n\t\tif(this.state == this.STATES.ACTIVE)\n\t\t{\n\t\t\tlet value = this.position[this.workingPlane];\n\t\t\tif(value > this.MOVE_AMOUNT || value < -this.MOVE_AMOUNT) this.reverseDirection();\n\t\t\tthis.position[this.workingPlane] += this.direction;\t\n\t\t\tthis.mesh.position[this.workingPlane] = this.position[this.workingPlane];\t\n\t\t}\n\t}\n}\n\nclass Game\n{\n\tconst STATES = {\n\t\t'LOADING': 'loading',\n\t\t'PLAYING': 'playing',\n\t\t'READY': 'ready',\n\t\t'ENDED': 'ended',\n\t\t'RESETTING': 'resetting'\n\t}\n\tblocks:Block[] = [];\n\tstate:string = this.STATES.LOADING;\n\t\n\t// groups\n\n\tnewBlocks:any;\n\tplacedBlocks:any;\n\tchoppedBlocks:any;\n\n\t// UI elements\n\n\tscoreContainer:any;\n\tmainContainer:any;\n\tstartButton:any;\n\tinstructions:any;\n\t\n\tconstructor()\n\t{\n\t\tthis.stage = new Stage();\n\t\t\n\t\tthis.mainContainer = document.getElementById('container');\n\t\tthis.scoreContainer = document.getElementById('score');\n\t\tthis.startButton = document.getElementById('start-button');\n\t\tthis.instructions = document.getElementById('instructions');\n\t\tthis.scoreContainer.innerHTML = '0';\n\t\t\n\t\tthis.newBlocks = new THREE.Group();\n\t\tthis.placedBlocks = new THREE.Group();\n\t\tthis.choppedBlocks = new THREE.Group();\n\t\t\n\t\tthis.stage.add(this.newBlocks);\n\t\tthis.stage.add(this.placedBlocks);\n\t\tthis.stage.add(this.choppedBlocks);\n\t\t\n\t\tthis.addBlock();\n\t\tthis.tick();\n\t\t\n\t\tthis.updateState(this.STATES.READY);\n\t\t\n\t\tdocument.addEventListener('keydown', e =>\n\t\t{\n\t\t\tif(e.keyCode == 32) this.onAction()\n\t\t});\n\t\t\n\t\tdocument.addEventListener('click', e =>\n\t\t{\n\t\t\tthis.onAction();\n\t\t});\t\t\n\t\t\n\t\tdocument.addEventListener('touchstart', e =>\n\t\t{\n\t\t\te.preventDefault();\n\t\t\t// this.onAction();\n\t\t\t\n\t\t\t// ☝️ this triggers after click on android so you\n\t\t\t// insta-lose, will figure it out later.\n\t\t});\n\t}\n\n\tupdateState(newState)\n\t{\n\t\tfor(let key in this.STATES) this.mainContainer.classList.remove(this.STATES[key]);\n\t\tthis.mainContainer.classList.add(newState);\n\t\tthis.state = newState;\n\t}\n\n\tonAction()\n\t{\n\t\tswitch(this.state)\n\t\t{\n\t\t\tcase this.STATES.READY:\n\t\t\t\tthis.startGame();\n\t\t\t\tbreak;\n\t\t\tcase this.STATES.PLAYING:\n\t\t\t\tthis.placeBlock();\n\t\t\t\tbreak;\n\t\t\tcase this.STATES.ENDED:\n\t\t\t\tthis.restartGame();\n\t\t\t\tbreak;\t\n\t\t}\n\t}\n\t\n\tstartGame()\n\t{\n\t\tif(this.state != this.STATES.PLAYING)\n\t\t{\n\t\t\tthis.scoreContainer.innerHTML = '0';\n\t\t\tthis.updateState(this.STATES.PLAYING);\n\t\t\tthis.addBlock();\n\t\t}\n\t}\n\n\trestartGame()\n\t{\n\t\tthis.updateState(this.STATES.RESETTING);\n\t\t\n\t\tlet oldBlocks = this.placedBlocks.children;\n\t\tlet removeSpeed = 0.2;\n\t\tlet delayAmount = 0.02;\n\t\tfor(let i = 0; i < oldBlocks.length; i++)\n\t\t{\n\t\t\tTweenLite.to(oldBlocks[i].scale, removeSpeed, {x: 0, y: 0, z: 0, delay: (oldBlocks.length - i) * delayAmount, ease: Power1.easeIn, onComplete: () => this.placedBlocks.remove(oldBlocks[i])})\n\t\t\tTweenLite.to(oldBlocks[i].rotation, removeSpeed, {y: 0.5, delay: (oldBlocks.length - i) * delayAmount, ease: Power1.easeIn})\n\t\t}\n\t\tlet cameraMoveSpeed = removeSpeed * 2 + (oldBlocks.length * delayAmount);\n\t\tthis.stage.setCamera(2, cameraMoveSpeed);\n\t\t\n\t\tlet countdown = {value: this.blocks.length - 1};\n\t\tTweenLite.to(countdown, cameraMoveSpeed, {value: 0, onUpdate: () => {this.scoreContainer.innerHTML = String(Math.round(countdown.value))}})\n\t\t\n\t\tthis.blocks = this.blocks.slice(0, 1);\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tthis.startGame();\n\t\t}, cameraMoveSpeed * 1000)\n\t\t\n\t}\n\t\n\tplaceBlock()\n\t{\n\t\tlet currentBlock = this.blocks[this.blocks.length - 1];\n\t\tlet newBlocks:BlockReturn = currentBlock.place();\n\t\tthis.newBlocks.remove(currentBlock.mesh);\n\t\tif(newBlocks.placed) this.placedBlocks.add(newBlocks.placed);\n\t\tif(newBlocks.chopped)\n\t\t{\n\t\t\tthis.choppedBlocks.add(newBlocks.chopped);\n\t\t\tlet positionParams = {y: '-=30', ease: Power1.easeIn, onComplete: () => this.choppedBlocks.remove(newBlocks.chopped)}\n\t\t\tlet rotateRandomness = 10;\n\t\t\tlet rotationParams = {\n\t\t\t\tdelay: 0.05,\n\t\t\t\tx: newBlocks.plane == 'z' ? ((Math.random() * rotateRandomness) - (rotateRandomness/2)) : 0.1,\n\t\t\t\tz: newBlocks.plane == 'x' ? ((Math.random() * rotateRandomness) - (rotateRandomness/2)) : 0.1,\n\t\t\t\ty: Math.random() * 0.1,\n\t\t\t};\n\t\t\tif(newBlocks.chopped.position[newBlocks.plane] > newBlocks.placed.position[newBlocks.plane])\n\t\t\t{\n\t\t\t\tpositionParams[newBlocks.plane] = '+=' + (40 * Math.abs(newBlocks.direction));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tpositionParams[newBlocks.plane] = '-=' + (40 * Math.abs(newBlocks.direction));\n\t\t\t}\n\t\t\tTweenLite.to(newBlocks.chopped.position, 1, positionParams);\n\t\t\tTweenLite.to(newBlocks.chopped.rotation, 1, rotationParams);\n\t\t\t\n\t\t}\n\t\t\n\t\tthis.addBlock();\n\t}\n\t\n\taddBlock()\n\t{\n\t\tlet lastBlock = this.blocks[this.blocks.length - 1];\n\t\t\n\t\tif(lastBlock && lastBlock.state == lastBlock.STATES.MISSED)\n\t\t{\n\t\t\treturn this.endGame();\n\t\t}\n\t\t\n\t\tthis.scoreContainer.innerHTML = String(this.blocks.length - 1);\n\t\t\n\t\tlet newKidOnTheBlock = new Block(lastBlock);\n\t\tthis.newBlocks.add(newKidOnTheBlock.mesh);\n\t\tthis.blocks.push(newKidOnTheBlock);\n\n\t\tthis.stage.setCamera(this.blocks.length * 2);\n\t\t\n\t\tif(this.blocks.length >= 5) this.instructions.classList.add('hide');\n\t}\n\t\n\tendGame()\n\t{\n\t\tthis.updateState(this.STATES.ENDED);\n\t}\n\n\ttick()\n\t{\n\t\tthis.blocks[this.blocks.length - 1].tick();\n\t\tthis.stage.render();\n\t\trequestAnimationFrame(() => {this.tick()});\n\t}\n}\n\nlet game = new Game();\n</script><style>@import url('https://fonts.googleapis.com/css?family=Comfortaa');\n\n$color-dark: #333344;\n\nhtml, body\n{\n\tmargin: 0;\n\toverflow: hidden;\n\theight: 100%;\n\twidth: 100%;\n\tposition: relative;\n\tfont-family: 'Comfortaa', cursive;\n}\n\n#container\n{\n\twidth: 100%;\n\theight: 100%;\n\t\n\t#score\n\t{\n\t\tposition: absolute;\n\t\ttop: 20px;\n\t\twidth: 100%;\n\t\ttext-align: center;\n\t\tfont-size: 10vh;\n\t\ttransition: transform 0.5s ease;\n\t\tcolor: $color-dark;\n\t\ttransform: translatey(-200px) scale(1);\n\t}\n\n\t#game\n\t{\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t}\n\t\n\t.game-over\n\t{\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 85%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\t\n\t\t*\n\t\t{\n\t\t\ttransition: opacity 0.5s ease, transform 0.5s ease;\n\t\t\topacity: 0;\n\t\t\ttransform: translatey(-50px);\n\t\t\tcolor: $color-dark;\n\t\t}\n\t\t\n\t\th2\n\t\t{\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t\tfont-size: 40px;\n\t\t}\n\t}\n\t\n\t.game-ready\n\t{\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: space-around;\n\t\t\n\t\t#start-button\n\t\t{\n\t\t\ttransition: opacity 0.5s ease, transform 0.5s ease;\n\t\t\topacity: 0;\n\t\t\ttransform: translatey(-50px);\n\t\t\t\n\t\t\tborder: 3px solid $color-dark;\n\t\t\tpadding: 10px 20px;\n\t\t\tbackground-color: transparent;\n\t\t\tcolor: $color-dark;\n\t\t\tfont-size: 30px;\n\t\t}\n\t}\n\t\n\t#instructions\n\t{\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\ttop: 16vh;\n\t\tleft: 0;\n\t\ttext-align: center;\n\t\ttransition: opacity 0.5s ease, transform 0.5s ease;\n\t\t\n\t\topacity: 0;\n\t\t\n\t\t&.hide\n\t\t{\n\t\t\topacity: 0 !important;\n\t\t}\n\t}\n\t\n\t&.playing, &.resetting\n\t{\n\t\t#score\n\t\t{\n\t\t\ttransform: translatey(0px) scale(1);\n\t\t}\n\t}\n\t\n\t&.playing\n\t{\n\t\t#instructions\n\t\t{\n\t\t\topacity: 1;\n\t\t}\n\t}\n\t\n\t&.ready\n\t{\n\t\t\n\t\t\n\t\t.game-ready\n\t\t{\n\t\t\t#start-button\n\t\t\t{\n\t\t\t\topacity: 1;\n\t\t\t\ttransform: translatey(0);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t&.ended\n\t{\n\t\t#score\n\t\t{\n\t\t\ttransform: translatey(6vh) scale(1.5);\n\t\t}\n\t\t\n\t\t.game-over\n\t\t{\n\t\t\t*\n\t\t\t{\n\t\t\t\topacity: 1;\n\t\t\t\ttransform: translatey(0);\n\t\t\t}\n\t\t\t\n\t\t\tp\n\t\t\t{\n\t\t\t\ttransition-delay: 0.3s;\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n\n</style>"}